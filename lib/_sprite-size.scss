
@mixin msfde-sprite($map) {
  %#{sprite-map-name($map)}-image-map {
    background: {
      image: $map;
      repeat: no-repeat;
    }
  }
}

@mixin msfde-icon($map, $sprite, $bg-size: false, $offset-x: 0, $offset-y: 0) {

  // Defaults.
  $color: transparent;
  $repeat: no-repeat;

  @extend %#{sprite-map-name($map)}-image-map;

  @if ($bg-size) {

    $sprites-width: sprite-width($map);
    $sprites-height: sprite-height($map);

    // @debug nth(remove($bg-size, auto), 1);

    $magnification: nth(remove($bg-size, auto), 1) / $sprites-width * 100;

    $pos: sprite-position($map, $sprite, $offset-x, $offset-y);
    $pos-x: nth($pos, 1);
    $pos-y: nth($pos, 2);

    $new-pos-x: ceil($pos-x * $magnification / 100);
    $new-pos-y: ceil($pos-y * $magnification / 100);

    background: {
      // image: sprite-url($map);
      position: $new-pos-x $new-pos-y;
      // repeat: $repeat;
      size: $bg-size;
    }
    //-pie-load-path: "#{theme-path-abs(behaviors/PIE/PIE.htc)}";
    behavior: url(theme-path-abs("behaviors/PIE/PIE_uncompressed.htc"));
    -pie-background: $color sprite-url-abs($map) $repeat $new-pos-x $new-pos-y / $bg-size;
  }
  @else {
    background: {
      // image: sprite-url($map);
      position: sprite-position($map, $sprite);
      // repeat: $repeat;
    }
  }

}

/**
 * Social icons.
 */
$social: sprite-map("icons/social/*.png", $spacing: 10px);
@include msfde-sprite($social);



$footer-social: "facebook", "twitter", "googleplus", "youtube", "xing", "linkedin";
  @each $icon in $footer-social {
    .icon-#{$icon} a {
      @include msfde-icon($social, "#{$icon}-rounded-white", 32px auto);
      @include hide-text;
      z-index: 999;
    }
  }
